<div ng-controller="programsController">
<div id="page-title" >
  <h2>{{ params.txt_head_form }}&nbsp;Program</h2>
  <p>Overview&nbsp;>&nbsp;<a href="#/programs">Programs</a>&nbsp;>&nbsp;{{ params.txt_head_form }}&nbsp;Program</p>
</div>
<!-- <div id="page-title">
  <h2>Update&nbsp;Programs</h2>
  <p>Setting&nbsp;>&nbsp;Programs&nbsp;>&nbsp;Update&nbsp;Programs</p>
</div> -->

<div ng-init="getProgramProfile()">
  <div class="panel">
    <div class="panel-body">
      <h3 class="title-hero">
        Program&nbsp;Profile
      </h3>
      <div class="example-box-wrapper">
        <form name="myform" class="form-horizontal" ng-submit="submit();">
          <div class="form-group">
            <label class="col-sm-2 control-label">Code</label>
            <div class="col-sm-4">
              <input type="text" class="form-control" ng-model="params.txt_code" placeholder="Code">
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">Title</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" ng-model="params.txt_title" placeholder="Title">
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label">Program&nbsp;Department</label>
            <div class="col-sm-10" ng-init="getProgramDepartments()">
              <select chosen ng-options="value.caption for value in program_departments" ng-model="params.ddl_dept">
                <option value="">-- Select program department --</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="" class="col-sm-2 control-label">Start</label>
            <div class="col-sm-4">
              <div class="input-prepend input-group">
                <span class="add-on input-group-addon">
                  <i class="glyph-icon icon-calendar"></i>
                </span>
                <input type="text" ng-model="params.txt_start_date" class="form-control" data-provide="datepicker" data-date-format="dd/mm/yyyy" placeholder="Day/Month/Year">
              </div>
            </div>

            <label for="" class="col-sm-2 control-label">End</label>
            <div class="col-sm-4">
              <div class="input-prepend input-group">
                <span class="add-on input-group-addon">
                  <i class="glyph-icon icon-calendar"></i>
                </span>
                <input type="text" ng-model="params.txt_end_date" class="form-control" data-provide="datepicker" data-date-format="dd/mm/yyyy" placeholder="Day/Month/Year">
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-12 text-right">
              <input type="hidden" ng-model="params.txt_id">
              <button type="button" class="btn btn-danger" ng-click="RemoveProgram(params.txt_id)" ng-show="params.txt_id > 0"><i class="glyph-icon icon-trash-o"></i>&nbsp;Delete</button>
              <a href="#/programs" class="btn btn-warning"><i class="glyph-icon icon-arrow-left"></i>&nbsp;Back</a>
              <button type="submit" class="btn btn-success"><i class="glyph-icon icon-save"></i>&nbsp;Save</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="panel" ng-show="params.txt_id > 0">
    <div class="panel-body">
      <h3 class="title-hero">
        Participants
      </h3>

      <div class="row">
        <div class="col-md-12 text-right">
          <button type="button" class="btn btn-info" ng-click="showAModal(params.txt_id)"><i class="glyph-icon icon-plus"></i>&nbsp;Enroll</button>
        </div>
      </div>

      <br>

      <div class="example-box-wrapper">
        <table cellpadding="0" cellspacing="0" border="0" datatable="ng" dt-options="dtOptions" class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>Code</th>
              <th>Name</th>
              <th>Email</th>
              <th>Nationality</th>
              <th>Remove</th>
            </tr>
          </thead>
          <tbody>
            <tr class="odd gradeX" ng-repeat="value in program_participants">
              <td>{{ value.code }}</td>
              <td><a href="#/alumni/{{ value.personId }}">{{ value.name }}</a></td>
              <td>{{ value.email }}</td>
              <td>{{ value.caption }}</td>
              <td class="text-center">
                <button type="button" class="btn btn-danger" ng-click="RemoveParticipant(value.programId, value.alumniId)">
                  <i class="glyph-icon icon-trash-o"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
</div>
